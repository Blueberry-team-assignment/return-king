# **StateProvider vs StateNotifierProvider**

| **특성**             | **StateProvider**                           | **StateNotifierProvider**                     |
|----------------------|---------------------------------------------|-----------------------------------------------|
| **사용 난이도**      | 쉬움                                        | 중간                                          |
| **로직 캡슐화**      | 없음 (직접 상태를 조작)                     | 있음 (상태 변경은 메서드를 통해 처리)         |
| **상태 변경 방식**   | `state` 속성을 직접 변경                     | `StateNotifier`의 메서드를 호출               |
| **적합한 상태**      | 단순 데이터 (숫자, 문자열, boolean 등)       | 복잡한 데이터 구조 (객체, 리스트 등)          |
| **적합한 로직**      | 로직이 거의 없는 경우                       | 비동기 작업, 상태 검증 등 복잡한 로직         |
| **예시**             | UI 토글 상태                                | To-Do 리스트 추가/수정/삭제, API 연동 상태 관리 |
| **사용 사례**        | 단순 데이터 관리 (카운터, 토글 등)           | Firestore 연동, 비동기 데이터 관리            |

---

## **선택 기준**
1. **단순한 상태 관리**:
   - `StateProvider`를 사용.
   - 예: 스위치 토글, 숫자 카운터.

2. **복잡한 상태 관리**:
   - `StateNotifierProvider`를 사용.
   - 예: Firestore 데이터 동기화, 상태가 여러 필드로 구성된 객체.

---

## **프로젝트에 적용**

- **`roomListProvider`**:
  - **Provider Type**: `StateNotifierProvider`
  - **이유**: `RoomListNotifier`는 Firestore와 연동된 로직과 상태를 관리하므로 복잡한 로직이 필요.

- **`selectedRoomProvider`**:
  - **Provider Type**: `StateProvider`
  - **이유**: 단일 `Room` 선택 상태를 관리하므로 단순한 상태 관리에 적합.

### ref.read vs ref.watch 차이점 요약

| Feature                  | `ref.read`                          | `ref.watch`                        |
|--------------------------|--------------------------------------|------------------------------------|
| **목적**                 | 상태를 한 번 읽기                   | 상태를 구독                        |
| **상태 변경 반응 여부**  | 반응하지 않음                       | 반응 (UI 재빌드)                   |
| **사용 위치**            | 이벤트 핸들러, 초기화 로직           | UI 빌드 함수, 상태 의존적인 로직    |
| **성능 영향**            | 낮음                                | 상태 변경 시 UI 빌드 비용 발생      |

#### **적합한 선택 가이드**
1. **`ref.read`**: 
   - 상태를 한 번 읽고 끝나는 경우.
   - 상태 변경과 무관한 로직에서 사용.
   - 의존성 주입, 이벤트 기반 로직
2. **`ref.watch`**: 
   - 상태 변경이 UI에 반영되어야 하는 경우.
   - 상태를 계속 추적해야 하는 경우.
   - UI 재빌드가 필요한 경우.